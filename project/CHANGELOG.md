# Changelog

## [2.0.0] - 2025-10-14

### üîÑ –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ Render PostgreSQL

#### –£–¥–∞–ª–µ–Ω–æ:
- ‚ùå Supabase –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (`supabase_db.py`)
- ‚ùå Supabase –º–∏–≥—Ä–∞—Ü–∏–∏ (`supabase/`, `supabase_migrations/`)
- ‚ùå Supabase SQL —Ñ–∞–π–ª—ã
- ‚ùå –°—Ç–∞—Ä—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ (12+ –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö MD —Ñ–∞–π–ª–æ–≤)
- ‚ùå –¢–µ—Å—Ç–æ–≤—ã–µ mock –º–æ–¥—É–ª–∏
- ‚ùå –õ–æ–∫–∞–ª—å–Ω–∞—è SQLite –ë–î (`shop_bot.db`)
- ‚ùå –õ–æ–≥–∏ –∏ –∫–µ—à (`__pycache__`, `logs/`, `*.log`)

#### –î–æ–±–∞–≤–ª–µ–Ω–æ:
- ‚úÖ PostgreSQL –∞–¥–∞–ø—Ç–µ—Ä (`postgres_db.py`)
- ‚úÖ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î (`database/init_render_db.sql`)
- ‚úÖ –¢–µ—Å—Ç—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è (`tests/test_render_db.py`)
- ‚úÖ –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
  - `README.md` - –û—Å–Ω–æ–≤–Ω–∞—è
  - `QUICKSTART.md` - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
  - `PROJECT_STRUCTURE.md` - –°—Ç—Ä—É–∫—Ç—É—Ä–∞
  - `docs/RENDER_POSTGRES_MIGRATION.md` - –ú–∏–≥—Ä–∞—Ü–∏—è
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π `.gitignore`

#### –ò–∑–º–µ–Ω–µ–Ω–æ:
- üîÑ `requirements.txt` - `psycopg2-binary` –≤–º–µ—Å—Ç–æ `supabase`
- üîÑ `config.py` - `DATABASE_URL` –≤–º–µ—Å—Ç–æ Supabase credentials
- üîÑ `main.py` - –∏–º–ø–æ—Ä—Ç `PostgresManager`
- üîÑ `web_admin/app.py` - –∏–º–ø–æ—Ä—Ç `PostgresManager`
- üîÑ `.env` - —Ç–æ–ª—å–∫–æ `DATABASE_URL`

### üìÅ –ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫

```
project/
‚îú‚îÄ‚îÄ database/           # SQL —Å—Ö–µ–º—ã
‚îú‚îÄ‚îÄ docs/              # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ tests/             # –¢–µ—Å—Ç—ã –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏
‚îú‚îÄ‚îÄ web_admin/         # –í–µ–±-–ø–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
‚îú‚îÄ‚îÄ config/            # (–∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–æ)
‚îî‚îÄ‚îÄ scripts/           # (–∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–æ)
```

### üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

- **Python —Ñ–∞–π–ª–æ–≤**: 23
- **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞**: ~12,500
- **HTML —à–∞–±–ª–æ–Ω–æ–≤**: 18
- **SQL —Ñ–∞–π–ª–æ–≤**: 1
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: 5 —Ñ–∞–π–ª–æ–≤

### üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏

1. **–ß–∏—Å—Ç—ã–π –ø—Ä–æ–µ–∫—Ç**: –£–¥–∞–ª–µ–Ω–æ 20+ –ª–∏—à–Ω–∏—Ö —Ñ–∞–π–ª–æ–≤
2. **–Ø—Å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞**: –õ–æ–≥–∏—á–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ –ø–∞–ø–∫–∞–º
3. **–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π PostgreSQL**: –ë–æ–ª—å—à–µ –≥–∏–±–∫–æ—Å—Ç–∏, –ø—Ä–æ—â–µ –æ—Ç–ª–∞–¥–∫–∞
4. **–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: –í—Å–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
5. **–ì–æ—Ç–æ–≤ –∫ –¥–µ–ø–ª–æ—é**: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Render.com –≤–∫–ª—é—á–µ–Ω–∞

### üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

#### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:
- **–ë—ã–ª–æ**: Supabase (PostgreSQL + RLS + Auth)
- **–°—Ç–∞–ª–æ**: Render PostgreSQL (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π PostgreSQL)
- **Connection Pool**: psycopg2.pool.SimpleConnectionPool (1-20 —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π)
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: `%s` –≤–º–µ—Å—Ç–æ `?` –∏–ª–∏ `$1`

#### API –∏–∑–º–µ–Ω–µ–Ω–∏—è:
```python
# –ë—ã–ª–æ (Supabase):
result = supabase.table('users').select('*').execute()

# –°—Ç–∞–ª–æ (Render PostgreSQL):
result = db.execute_query('SELECT * FROM users')
```

### üìù –ú–∏–≥—Ä–∞—Ü–∏—è

–î–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö –∏–∑ Supabase:

1. –≠–∫—Å–ø–æ—Ä—Ç: `pg_dump <supabase_url> > dump.sql`
2. –û—á–∏—Å—Ç–∫–∞ –æ—Ç Supabase-—Å–ø–µ—Ü–∏—Ñ–∏–∫–∏
3. –ò–º–ø–æ—Ä—Ç: `psql $DATABASE_URL < dump.sql`

–ü–æ–¥—Ä–æ–±–Ω–µ–µ: `docs/RENDER_POSTGRES_MIGRATION.md`

### üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ë–î: `psql $DATABASE_URL < database/init_render_db.sql`
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `pip install -r requirements.txt`
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ: `python tests/test_render_db.py`
4. –ó–∞–ø—É—Å—Ç–∏—Ç—å: `python main.py`

---

## [1.0.0] - –ü—Ä–µ–¥—ã–¥—É—â–∞—è –≤–µ—Ä—Å–∏—è

- Supabase –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- –ù–µ–æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
